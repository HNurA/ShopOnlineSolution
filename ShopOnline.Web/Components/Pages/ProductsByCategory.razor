@page "/ProductsByCategory/{CategoryId:int}"
@attribute [StreamRendering]
@rendermode InteractiveServer
@inherits ProductsByCategoryBase

@if (!isLoaded && ErrorMessage == null)
{
    <div class="text-center mt-5">
        <DisplaySpinner />
        <p class="mt-3">Loading products...</p>
    </div>
}
else if (ErrorMessage != null)
{
    <DisplayError ErrorMessage="@ErrorMessage" />
}
else
{
    <h3 class="mb-4">Products (@CategoryName)</h3>

    @if (Products != null && Products.Count() > 0)
    {
        <DisplayProducts Products="@Products"></DisplayProducts>
    }
    else
    {
        <div class="alert alert-info">
            <p>No products found in this category.</p>
        </div>
    }
}